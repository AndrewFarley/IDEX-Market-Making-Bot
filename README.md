# Overview

This is a market making bot for IDEX. It's built in NodeJS, and runs from the command line. You can run it from any linux distribution.

This bot was somewhat profitable in flat markets, and then not profitable during and after the crash. I enjoyed building it, so I decided to open source it instead of shutting it down.

![Alt text](data:image/png;base64,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 "Optional title")

# How it Works

The bot works like this:

- It takes the "average wave size" as a parameter (see below.)
- It sets your bid at just above the avg wave size, on the buy side, or the reverse on the sell side.
- If it successfully buys, it immediately creates an order on the sell side.
- It repeats until you kill the script.

# Average Wave Size

The idea behind the average wave size is to place buy orders just below the size of an average order. This way, if a large-ish buy order is placed, it will hit all the orders above us and our order. This gives us a better price than staying at the top of the order book, while still letting our order get filled.

For example, let's say the order book looks like this:
```
0.00045, 1 ETH
0.00044, 1 ETH
0.00043, 1 ETH
0.00042, 1 ETH
0.00041.00001, 1 ETH <-- Our buy order
0.00041, 1.5 ETH
```

If you input an average wave size of 5 ETH, if will see that the .00041 bid will put the order book above 5 ETH. In other words, we want an order to be filled if a 5 ETH sell order hits, so the bot automatically calculates where in the order book it needs to sit to have that order fulfilled.

# Setup

## nonce.json

Nonce must be set to a number higher than the one on your account. Check your account's nonce at:

https://api.idex.market/returnNextNonce?address=

## settings.json

To setup the bot, input your information as follows in settings.json:

    "myAddress": Your address
    "privateKey": Your private key
    "target_contract": The address of the contract you wish to trade (ETH hash, starting with 0x)
    "target_pair": The pair you wish to trade, in string - "ETH_ZCN" for example
    "target_token": "ZCN", -- The latter half of the above
    "precision": 10, -- You can get this from https://api.idex.market/returnCurrencies
    "stoploss": The level at which you stop buying
    "average_wave_size": See above
    "increment_amount": By how much you wish to increment to stay above or below a bid
    "IDEXcontractAddress": "0x2a0c0dbecc7e4d658f48e01e3fa353f44050c208"

# Feedback

If you have feedback, feel free to email me at derekpankaew@gmail.com. If you make improvements, or if it makes money for you, I'd love to hear from you.

Once again, this software is provided as-is with no warrantees, guarantees, or responsibility on my part whatsoever. Best of luck.

# Disclaimer

USE AT YOUR OWN RISK - THIS BOT SOMETIMES MAKES MONEY, AND SOMETIMES LOSES MONEY. YOU ARE 100% RESPONSIBLE FOR YOUR OWN DECISIONS AND ACTIONS. THIS CODE IS PRESENTED AS IS, WITH NO WARRANTIES WHATSOEVER.

IDEX is a decentralized server and requires a private key for trading. Obviously, storing a private key on a node server has its own risks, and managing that security is up to you. I'd recommend using this as a starting point to customize your own code and strategies. As always, never run code you don't fully understand.